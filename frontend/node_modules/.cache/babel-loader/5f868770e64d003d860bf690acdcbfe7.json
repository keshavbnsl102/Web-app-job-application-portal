{"ast":null,"code":"var _jsxFileName = \"/Users/keshavbansal/Desktop/DASS WEB /2019101019/frontend/src/components/Common/login.js\";\nimport React, { Component } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport { withStyles } from \"@material-ui/core/styles\";\nimport axios from 'axios'; //import FormControlLabel from \"@material-ui/core/FormControlLabel\";\n\nimport Radio from \"@material-ui/core/Radio\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormLabel from \"@material-ui/core/FormLabel\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport ToolBar from \"@material-ui/core/ToolBar\";\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main\n  },\n  form: {\n    width: '100%',\n    // Fix IE 11 issue.\n    marginTop: theme.spacing(1)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  }\n}));\n\nclass signin extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      types: \"\",\n      error: \"\",\n      color: \"\"\n    };\n    this.onChange = this.onChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  onChange(event) {\n    const {\n      name,\n      value\n    } = event.target;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  onSubmit(event) {\n    event.preventDefault();\n    const appli = this.state;\n\n    if (appli[\"email\"] !== \"\" && appli[\"password\"] !== \"\" && appli[\"types\"] === \"applicant\") {\n      // console.log(\"***\");\n      axios.post(\"http://localhost:4000/appli/login\", appli).then(res => {\n        if (res.data.data === \"wrong\") {\n          this.setState({\n            error: \"wrong creds\",\n            color: \"red\",\n            email: \"\",\n            password: \"\",\n            types: \"\"\n          });\n        } else {\n          console.log(\"success\");\n          this.setState({\n            error: \"Success\",\n            color: \"green\",\n            email: \"\",\n            password: \"\"\n          });\n          localStorage.setItem(\"access-token\", res.data);\n          this.props.history.push(\"/applidash\");\n        }\n      }).catch(err => {\n        this.setState({\n          color: \"red\",\n          error: \"Error: Couldn't login\",\n          email: this.state.email,\n          password: \"\",\n          types: this.state.types\n        });\n      });\n    } else if (appli[\"email\"] !== \"\" && appli[\"password\"] !== \"\" && appli[\"types\"] === \"recruiter\") {\n      axios.post(\"http://localhost:4000/recruiter/login\", appli).then(res => {\n        if (res.data.data === \"wrong\") {\n          this.setState({\n            error: \"wrong credentials\",\n            color: \"red\",\n            email: \"\",\n            password: \"\",\n            types: \"\"\n          });\n        } else {\n          console.log(\"success\");\n          this.setState({\n            error: \"Success\",\n            color: \"green\",\n            email: \"\",\n            password: \"\"\n          });\n          localStorage.setItem(\"access-token\", res.data);\n          this.props.history.push(\"/recrudash\");\n        }\n      }).catch(err => {\n        this.setState({\n          color: \"red\",\n          error: \"Error: Couldn't login\",\n          email: this.state.email,\n          password: \"\",\n          types: this.state.types\n        });\n      });\n    } else {\n      this.setState({\n        email: this.state.email,\n        password: \"\",\n        error: \"enter all particulars!\",\n        types: this.state.types,\n        color: \"red\"\n      });\n    }\n  }\n\n  render() {\n    const {\n      classes\n    } = this.props;\n    const styles = {\n      errorColor: {\n        color: this.state.color\n      }\n    };\n    return React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, React.createElement(AppBar, {\n      position: \"static\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, React.createElement(ToolBar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, React.createElement(Button, {\n      onClick: event => window.location.href = \"/registerappli\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, \"Sign up as applicant\"), React.createElement(Button, {\n      onClick: event => window.location.href = \"/registerrecruiter\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, \"Sign up as recruiter\")))), React.createElement(Container, {\n      component: \"main\",\n      maxWidth: \"xs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, React.createElement(CssBaseline, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: classes.paper,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, React.createElement(Avatar, {\n      className: classes.avatar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, React.createElement(LockOutlinedIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    })), React.createElement(Typography, {\n      component: \"h1\",\n      variant: \"h5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, \"Sign in\"), React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      className: classes.form,\n      noValidate: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      variant: \"outlined\",\n      margin: \"normal\",\n      required: true,\n      fullWidth: true,\n      id: \"email\",\n      label: \"Email Address\",\n      name: \"email\",\n      autoComplete: \"email\",\n      autoFocus: true,\n      onChange: this.onChange,\n      value: this.state.email,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      variant: \"outlined\",\n      margin: \"normal\",\n      required: true,\n      fullWidth: true,\n      name: \"password\",\n      label: \"Password\",\n      type: \"password\",\n      id: \"password\",\n      autoComplete: \"current-password\",\n      onChange: this.onChange,\n      value: this.state.password,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }), React.createElement(FormControl, {\n      component: \"fieldset\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, React.createElement(FormLabel, {\n      component: \"legend\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, \"select type of user\"), React.createElement(RadioGroup, {\n      \"aria-label\": \"type of user\",\n      name: \"types\",\n      value: this.state.types,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, React.createElement(FormControlLabel, {\n      value: \"applicant\",\n      control: React.createElement(Radio, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }),\n      label: \"Applicant\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }), React.createElement(FormControlLabel, {\n      value: \"recruiter\",\n      control: React.createElement(Radio, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      }),\n      label: \"Recruiter\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }))), React.createElement(Button, {\n      type: \"submit\",\n      fullWidth: true,\n      variant: \"contained\",\n      color: \"primary\",\n      className: classes.submit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, \"Sign In\"), React.createElement(Grid, {\n      container: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      style: styles.errorColor,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    }, this.state.error)))))));\n  }\n\n}\n\nexport default withStyles(useStyles)(signin);","map":{"version":3,"sources":["/Users/keshavbansal/Desktop/DASS WEB /2019101019/frontend/src/components/Common/login.js"],"names":["React","Component","Avatar","Button","CssBaseline","TextField","FormControlLabel","Checkbox","Link","Grid","Box","LockOutlinedIcon","Typography","makeStyles","Container","withStyles","axios","Radio","RadioGroup","FormHelperText","FormControl","FormLabel","AppBar","ToolBar","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","signin","constructor","props","state","email","password","types","error","color","onChange","bind","onSubmit","event","name","value","target","setState","preventDefault","appli","post","then","res","data","console","log","localStorage","setItem","history","push","catch","err","render","classes","styles","errorColor","window","location","href"],"mappings":"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","sourcesContent":["import React,{ Component } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport { withStyles } from \"@material-ui/core/styles\";\nimport axios from 'axios';\n//import FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Radio from \"@material-ui/core/Radio\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormLabel from \"@material-ui/core/FormLabel\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport ToolBar from \"@material-ui/core/ToolBar\"\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nclass signin extends Component {\n\n      constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      types: \"\",\n      error: \"\",\n      color: \"\",\n      };\n    this.onChange = this.onChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  onChange(event){\n    const { name, value } = event.target;\n    this.setState({\n      [name]: value,\n    });\n\n  }\n  onSubmit(event){\n    event.preventDefault();\n    const appli=this.state;\n     if (\n      appli[\"email\"] !== \"\" && appli[\"password\"] !== \"\" && appli[\"types\"]=== \"applicant\"\n    ) {\n      // console.log(\"***\");\n      axios\n        .post(\"http://localhost:4000/appli/login\", appli)\n        .then(res => {\n            if(res.data.data===\"wrong\")\n            {  this.setState({\n                   error: \"wrong creds\",\n                    color: \"red\",\n                    email: \"\",\n                     password: \"\",\n                     types: \"\",\n              });\n\n            }\n            else \n            {\n                 console.log(\"success\");\n                this.setState({\n                   error: \"Success\",\n                    color: \"green\",\n                    email: \"\",\n                     password: \"\",\n              });\n                localStorage.setItem(\"access-token\", res.data);\n                    this.props.history.push(\"/applidash\");\n            }\n        })\n        .catch(err => {\n         \n          this.setState({\n            color: \"red\",\n            error: \"Error: Couldn't login\",\n            email: this.state.email,\n            password: \"\",\n            types: this.state.types\n          });\n        });\n      }\n      else if(appli[\"email\"] !== \"\" && appli[\"password\"] !== \"\" && appli[\"types\"]=== \"recruiter\")\n      {\n         axios\n            .post(\"http://localhost:4000/recruiter/login\", appli)\n            .then(res => {\n                if(res.data.data===\"wrong\")\n               {\n                this.setState({\n                   error: \"wrong credentials\",\n                    color: \"red\",\n                    email: \"\",\n                     password: \"\",\n                     types: \"\",\n              });\n              }\n             else \n             {\n                \n                console.log(\"success\");\n              this.setState({\n                error: \"Success\",\n                color: \"green\",\n                email: \"\",\n                password: \"\",\n              });\n              localStorage.setItem(\"access-token\", res.data);\n                    this.props.history.push(\"/recrudash\");\n\n\n             }\n                })\n            .catch(err => {\n             \n              this.setState({\n                color: \"red\",\n                error: \"Error: Couldn't login\",\n                email: this.state.email,\n                password: \"\",\n                types: this.state.types,\n              });\n            });\n\n\n      }\n    else\n    {\n      this.setState({\n        email: this.state.email,\n        password: \"\",\n        error: \"enter all particulars!\",\n        types: this.state.types,\n        color: \"red\",\n      });\n    }\n\n\n     \n\n  }\n\n\n\n\n     render(){\n        const { classes } = this.props;\n        const styles = {\n      errorColor: {\n        color: this.state.color\n      }\n    };\n\n  return (\n   <Container>\n    <Container >\n        <AppBar position=\"static\">\n          <ToolBar>\n            <Button onClick={event => (window.location.href = \"/registerappli\")}>\n             Sign up as applicant\n            </Button>\n            <Button onClick={event => (window.location.href = \"/registerrecruiter\")}>\n             Sign up as recruiter\n            </Button>\n          </ToolBar>\n        </AppBar>\n     </Container>\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Sign in\n        </Typography>\n        <form onSubmit={this.onSubmit} className={classes.form} noValidate>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"email\"\n            label=\"Email Address\"\n            name=\"email\"\n            autoComplete=\"email\"\n            autoFocus\n            onChange={this.onChange}\n            value={this.state.email}\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"password\"\n            label=\"Password\"\n            type=\"password\"\n            id=\"password\"\n            autoComplete=\"current-password\"\n            onChange={this.onChange}\n            value={this.state.password}\n          />\n\n          <FormControl component=\"fieldset\">\n          <FormLabel component=\"legend\">select type of user</FormLabel>\n          <RadioGroup aria-label=\"type of user\" name=\"types\" value={this.state.types} onChange={this.onChange}>\n           <FormControlLabel value=\"applicant\" control={<Radio />} label=\"Applicant\" />\n           <FormControlLabel value=\"recruiter\" control={<Radio />} label=\"Recruiter\" />\n            </RadioGroup>\n            </FormControl>\n          \n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n          >\n            Sign In\n          </Button>\n          \n           <Grid container>\n                <Grid item>\n                  <p style={styles.errorColor}>{this.state.error}</p>\n                </Grid>\n              </Grid>\n        </form>\n      </div>\n         </Container>\n   </Container>\n  );\n }\n}\nexport default withStyles(useStyles)(signin);"]},"metadata":{},"sourceType":"module"}